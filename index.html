<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Shaka Player with ClearKey DRM</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.6.0/shaka-player.compiled.js"></script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: #000;
        height: 100%;
      }
      video {
        width: 100vw;
        height: 100vh;
        background: #000;
        display: block;
      }
    </style>
  </head>
  <body>
    <video id="video" controls autoplay muted></video>

    <script>
      async function initApp() {
        const manifestUri = 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/o25bbufx7o/out/v1/7779ab5da6594e0ab9feaecf0488bba2/cenc.mpd';

        shaka.polyfill.installAll();

        if (shaka.Player.isBrowserSupported()) {
          const video = document.getElementById('video');
          const player = new shaka.Player(video);

          player.configure({
            drm: {
              clearKeys: {
                '9889ef320e9098aff075ced4452c34d9': '72601d49b57352c5a614777dbff85740'
              }
            }
          });

          try {
            await player.load(manifestUri);
            console.log('The video has now been loaded!');
          } catch (error) {
            console.error('Error loading video:', error);
          }
        } else {
          console.error('Browser not supported!');
        }
      }

      document.addEventListener('DOMContentLoaded', initApp);
    </script>
  </body>
</html>
