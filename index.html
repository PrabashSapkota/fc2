<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Shaka Player with ClearKey DRM</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.6.0/shaka-player.compiled.js"></script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: #000;
        height: 100%;
      }
      video {
        width: 100vw;
        height: 100vh;
        background: #000;
        display: block;
      }
    </style>
  </head>
  <body>
    <video id="video" controls autoplay muted></video>

    <script>
      async function initApp() {
        const manifestUri = 'https://a204aivottepl-a.akamaihd.net/sin-nitro/live/clients/dash/enc/fdb3pubmek/out/v1/aefca6420f944a9482e117f315de535f/cenc.mpd';

        shaka.polyfill.installAll();

        if (shaka.Player.isBrowserSupported()) {
          const video = document.getElementById('video');
          const player = new shaka.Player(video);

          player.configure({
            drm: {
              clearKeys: {
                '7e9239c1982d984a002df3ed049d0756': '1b8a17598129a3618535c8fb05f103fe'
              }
            }
          });

          try {
            await player.load(manifestUri);
            console.log('The video has now been loaded!');
          } catch (error) {
            console.error('Error loading video:', error);
          }
        } else {
          console.error('Browser not supported!');
        }
      }

      document.addEventListener('DOMContentLoaded', initApp);
    </script>
  </body>
</html>
